#!/bin/bash

monitor_input() {
    read -t 2 -n 1 input
    
    if [ $? -eq 0 ]; then
        return 0
    else
        return 1
    fi
}

while true; do
    # Check if there has been any input for the last 2 seconds
    if monitor_input; then
        # Reset the read timer if there was input
        continue
    fi
    
    # No input for 2 seconds, kill processes ending with "_ablox"
    pkill -f _ablox
    break;
done

exit 0